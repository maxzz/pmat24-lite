import{t as m,v as Ms,w as t,U as Fs,D as Ts,T as Ye,y as dt,z as ut,A as O,B as E,C as Oe,E as Rs,F as D,r as c,G as As,H as Qe,I as Os,J as zs,K as ft,L as V,M as Es,N as Ls,O as T,P as Ps,Q as Bs,S as _s,V as Ws,W as P,X as se,Y as L,Z as mt,a0 as Hs,a1 as Gs,a2 as Js,x as Vs,a3 as qs,a4 as Ks,a5 as Zs,R as Xs}from"./vendor-BedcPWl5.js";import{S as pt}from"./rare-BpsaCy1q.js";import{h as xt,C as Ys,i as ht,j as gt,k as bt,l as jt,m as wt,n as yt,o as ue,p as Nt,D as Qs,q as vt,r as Ct,s as Us,t as en,u as tn,v as sn,w as $t,x as kt,y as ze,z as nn,A as Ee,B as St,E as rn,$ as Dt,a as It,d as on,F as an,e as Mt,f as Ft,c as ln,g as cn,G as Tt,H as Rt,I as At,J as dn,K as un,L as Ot,M as fn,N as mn,O as zt,P as pn,Q as Et,R as xn,S as hn,T as gn,U as Lt,V as bn,W as Pt,X as Bt,Y as jn,Z as wn,_ as _t,a0 as Wt,a1 as yn,a2 as Ht,a3 as Nn,a4 as vn,a5 as Cn,a6 as $n,a7 as kn,a8 as Sn}from"./radix-ui-CFSeg78H.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();(function(){const e=console.info;console.info=function(...s){/Download the React DevTools/.test(s[0])||e.apply(console,s)}})();const Le=m([]),Dn=e=>new Promise(s=>setTimeout(s,e)),Gt=e=>{var s;return!!((s=e.meta)!=null&&s.some(n=>n.disp.isScript))},Jt=e=>{var s;return!e.meta||!e.meta.length||!!((s=e.meta)!=null&&s.some(n=>n.disp.noFields))},In=e=>{var s,n,r,o;return!!((n=(s=e.meta)==null?void 0:s[0])!=null&&n.disp.domain)||!!((o=(r=e.meta)==null?void 0:r[1])!=null&&o.disp.domain)},Pe=e=>{var s,n,r,o;return!!((n=(s=e.meta)==null?void 0:s[0])!=null&&n.disp.bailOut)||!!((o=(r=e.meta)==null?void 0:r[1])!=null&&o.disp.bailOut)};function Mn(e,s){var a,i,l,u,f;const n=(a=e.mani)==null?void 0:a.forms,r=(l=(i=n==null?void 0:n[0])==null?void 0:i.detection)==null?void 0:l.caption,o=(f=(u=n==null?void 0:n[1])==null?void 0:u.detection)==null?void 0:f.caption;return s?!!(r!=null&&r.match(s))||!!(o!=null&&o.match(s)):!!r||!!o}function Fn(e,s){var a,i,l,u,f;const n=(a=e.mani)==null?void 0:a.forms,r=(l=(i=n==null?void 0:n[0])==null?void 0:i.detection)==null?void 0:l.dlg_class,o=(f=(u=n==null?void 0:n[1])==null?void 0:u.detection)==null?void 0:f.dlg_class;return s?!!(r!=null&&r.match(s))||!!(o!=null&&o.match(s)):!!r||!!o}const Tn=/[-|\\{}()[\]^$+.]/g,Rn=/[\?]/g,An=/[\*]/g;function On(e){return e.replace(Tn,"\\$&").replace(Rn,".").replace(An,".*")}function zn(e,s){let n=!!(e&&e.match(/^win\:/)),r=!!(e&&e.match(/^web\:/)),o=!!(e&&e.match(/^why\:/)),a=!!(e&&e.match(/^cap\:/)),i=!!(e&&e.match(/^cls\:/));return(n||r||o||a||i)&&(e=e==null?void 0:e.replace(/^(win|web|why|cap|cls)\:/,"")),{winOnly:n,webOnly:r,whyOnly:o,capOnly:a,clsOnly:i,regex:e&&new RegExp(On(e),s?"":"i")||void 0}}function En(e,s){var r,o,a,i,l,u,f,b,p,x,$,y,j;let n=!!e.fname.match(s);return n||(n=!!((l=(i=(a=(o=(r=e.mani)==null?void 0:r.forms)==null?void 0:o[0])==null?void 0:a.options)==null?void 0:i.choosename)!=null&&l.match(s))),n||(n=!!((p=(b=(f=(u=e.meta)==null?void 0:u[0])==null?void 0:f.mani.detection)==null?void 0:b.web_ourl)!=null&&p.match(s))),n||(n=!!((j=(y=($=(x=e.meta)==null?void 0:x[1])==null?void 0:$.mani.detection)==null?void 0:y.web_ourl)!=null&&j.match(s))),n}function h(...e){return e.filter(Boolean).join(" ")}function d(...e){return Ms(h(...e))}function Ln(e,s=100){let n,r,o;function a(...i){o=this,r=i,!n&&(n=setTimeout(()=>{n=null,e.apply(o,r)},s))}return a}function Vt(e){const s=window.document.documentElement,n=e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"":e==="dark"?"dark":"";s.classList[n?"add":"remove"]("dark")}function Pn({defaults:e,loaded:s}){if(!s)return e;const r=Object.entries(e).map(([o,a])=>[o,s[o]!==void 0?s[o]:a]);return Object.fromEntries(r)}function qt(e,s,n=""){if(!s)return e;const r={...e};for(const o in s){const a=s[o];if(a==null)continue;const i=r[o];if(i==null){r[o]=a;continue}if(Array.isArray(i)||Array.isArray(a)){r[o]=[...et(i??[]),...et(a??[])];continue}if(Ue(i)&&Ue(a)){r[o]=qt(i,a,n?`${n}.${o}`:o);continue}r[o]=a}return r}function Ue(e){return Object.prototype.toString.call(e)==="[object Object]"}function et(e){return Array.isArray(e)?e:[e]}const Kt=Date.now();function X(){const e=Date.now(),s=X.last||e;return X.last=e>s?e:s+1}function Bn(){return X()}function _n(){return X()-Kt}function fe(e){let s=X();return e&&(s-=Kt),s.toString(36)}fe.asNumber=Bn;fe.asRelativeNumber=_n;function Be(e){const s=e instanceof Error?e.message:`${e}`;return s.split(">>>").at(-1)||s}function Wn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("fill-none stroke-[1.5] stroke-current",e),viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})]})}function Hn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("fill-none stroke-[1.5] stroke-current",e),viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})]})}function Gn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("fill-none stroke-[1.5] stroke-current",e),viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4"}),t.jsx("path",{d:"M12 2v2"}),t.jsx("path",{d:"M12 20v2"}),t.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),t.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),t.jsx("path",{d:"M2 12h2"}),t.jsx("path",{d:"M20 12h2"}),t.jsx("path",{d:"m6.3 17.7-1.4 1.4"}),t.jsx("path",{d:"m19.1 4.9-1.4 1.4"})]})}function _e({title:e,...s}){return t.jsxs("svg",{viewBox:"0 0 21 21",strokeLinecap:"round",fill:"none",stroke:"currentColor",strokeWidth:1.2,...s,children:[e&&t.jsx("title",{children:e}),t.jsx("path",{d:"M4.5 6.5h12"}),t.jsx("path",{d:"M4.498 10.5h11.997"}),t.jsx("path",{d:"M4.5 14.5h11.995"})]})}function tt({className:e,title:s,...n}){return t.jsxs("svg",{className:h("fill-none stroke-current",e),strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{d:"M15.75 19.5 8.25 12l7.5-7.5"})]})}function Jn({title:e,...s}){return t.jsxs("svg",{viewBox:"0 0 512 512",fill:"currentColor",...s,children:[e&&t.jsx("title",{children:e}),t.jsx("path",{d:"M256 421.6c-18.1 0-33.2-6.8-42.9-10.9-5.4-2.3-11.3 1.8-10.9 7.6l3.5 51c.2 3.1 3.8 4.7 6.3 2.8l14.5-11c1.8-1.4 4.5-.9 5.7 1l20.5 32.1c1.5 2.4 5.1 2.4 6.6 0l20.5-32.1c1.2-1.9 3.9-2.4 5.7-1l14.5 11c2.5 1.9 6.1.3 6.3-2.8l3.5-51c.4-5.8-5.5-10-10.9-7.6-9.8 4.1-24.8 10.9-42.9 10.9z"}),t.jsx("path",{d:"M397.7 293.1l-48-49.1c0-158-93.2-228-93.2-228s-94.1 70-94.1 228l-48 49.1c-1.8 1.8-2.6 4.5-2.2 7.1L130.6 412c.9 5.7 7.1 8.5 11.8 5.4l67.1-45.4s20.7 20 47.1 20c26.4 0 46.1-20 46.1-20l67.1 45.4c4.6 3.1 10.8.3 11.8-5.4l18.5-111.9c.2-2.6-.6-5.2-2.4-7zM256.5 192c-17 0-30.7-14.3-30.7-32s13.8-32 30.7-32c17 0 30.7 14.3 30.7 32s-13.7 32-30.7 32z"})]})}function Vn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("fill-current",e),viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{d:"M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39zM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7z"})]})}function qn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("stroke-[1.5] stroke-current fill-none",e),viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})]})}function Kn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("stroke-current stroke-[1.5] fill-none",e),viewBox:"0 0 24 24",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})]})}function Zn({className:e,title:s,...n}){return t.jsxs("svg",{className:h("stroke-none fill-current",e),viewBox:"0 0 300 300",...n,children:[s&&t.jsx("title",{children:s}),t.jsx("path",{d:"M67.54 25.27H1.04V0h86.45l13.3 13.3v86.45H75.52V50.54Q40.94 75.81 29.64 117.7q-11.3 41.89 5.98 81.8 17.29 39.9 55.2 60.51 37.91 20.62 80.47 13.3 42.56-7.31 71.16-39.24 28.59-31.92 31.92-75.14 3.32-43.23-20.62-78.47-23.94-35.25-65.17-48.55l6.65-23.94q33.25 10.64 57.85 33.92 24.61 23.27 36.57 55.2 11.97 31.92 9.31 65.84-2.66 33.91-19.95 63.18-17.29 29.26-45.88 48.54-28.59 19.29-62.51 23.94-33.92 4.65-66.5-5.99t-57.19-33.92q-24.6-23.28-36.57-55.19-11.97-31.92-9.31-65.84T21 74.47q17.29-29.26 46.55-49.21Z"})]})}function Xn(){return t.jsxs("symbol",{id:"app-web-chrome",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("circle",{cx:"12",cy:"12",r:"4"}),t.jsx("path",{d:"M21.17 8H12"}),t.jsx("path",{d:"M3.95 6.06 8.54 14"}),t.jsx("path",{d:"M10.88 21.94 15.46 14"})]})}function Zt({className:e,title:s,children:n,...r}){return t.jsxs("svg",{className:h("fill-none stroke-current stroke-[1]",e),...r,children:[s&&t.jsx("title",{children:s}),n,t.jsx("use",{xlinkHref:"#app-web-chrome"})]})}function Yn(){return t.jsx("symbol",{id:"app-win32",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"square",strokeLinejoin:"bevel",d:"M9.57 2.44c-1.34.06-2.65.36-3.88.9l-2.07 7.21a8.55 8.55 0 0 1 4.06-.9c1.43.03 2.82.5 3.97 1.35l2.07-7.21a6.74 6.74 0 0 0-4.15-1.35ZM14.8 4.6l-2.07 7.21c1.8 1.17 3.97 2.25 8.03.45l2.07-7.21c-4.24 1.8-6.31.81-8.12-.45h.09Zm-7.67 6.31c-1.34.06-2.65.36-3.88.9l-2.07 7.21c4.24-1.8 6.22-.72 8.03.45l2.07-7.21a6.74 6.74 0 0 0-4.15-1.35Zm5.23 2.07-2.07 7.21c1.8 1.17 3.88 2.16 8.12.36l1.98-7.12c-4.15 1.8-6.22.81-8.03-.45Z"})})}function Xt({className:e,title:s,children:n,...r}){return t.jsxs("svg",{className:h("fill-none stroke-current stroke-1",e),...r,children:[s&&t.jsx("title",{children:s}),n,t.jsx("use",{xlinkHref:"#app-win32"})]})}function Qn(){return t.jsxs("symbol",{id:"app-fcat",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[t.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),t.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}function Un({className:e,title:s,children:n,...r}){return t.jsxs("svg",{className:h("fill-none stroke-current stroke-[1.5]",e),...r,children:[s&&t.jsx("title",{children:s}),n,t.jsx("use",{xlinkHref:"#app-fcat"})]})}function er(){return t.jsxs(t.Fragment,{children:[Xn(),Yn(),Qn()]})}function tr(){return t.jsx(t.Fragment,{children:t.jsx("symbol",{id:"icon-dot",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 16a4 4 0 1 1 0-8a4 4 0 0 1 0 8z"})})})}function W({className:e,title:s,children:n,...r}){return t.jsxs("svg",{className:h("fill-current",e),...r,children:[s&&t.jsx("title",{children:s}),n,t.jsx("use",{xlinkHref:"#icon-dot"})]})}function sr(){return t.jsx(t.Fragment,{children:tr()})}function nr(){return t.jsxs(Fs,{children:[Ts(),er(),sr()]})}function rr(e){var a,i,l,u,f,b,p,x,$,y,j;const s=(a=e.mani)==null?void 0:a.forms[0],n=(l=(i=e.meta)==null?void 0:i[0])==null?void 0:l.disp.domain,r=!!n,o=!!e.fpath;return{domain:n,isWeb:r,isChrome:r&&!((f=(u=e.meta)==null?void 0:u[0])!=null&&f.disp.isIe),isFCat:!!e.fcat,isCustomization:!((b=e.meta)!=null&&b.length)&&!!((p=e.mani)!=null&&p.options),url:s==null?void 0:s.detection.web_ourl,title:s==null?void 0:s.options.choosename,isSubFolder:o,subFolder:e.fpath||"",dateCreated:Ye.dpTimeToShow(($=(x=e.mani)==null?void 0:x.descriptor)==null?void 0:$.created),dateModified:Ye.dpTimeToShow((j=(y=e.mani)==null?void 0:y.descriptor)==null?void 0:j.modified)}}var Yt=(e=>(e[e.normal=0]="normal",e[e.compact=1]="compact",e[e.minimal=2]="minimal",e))(Yt||{}),ae=(e=>(e[e.index=0]="index",e[e.url=1]="url",e[e.group=2]="group",e))(ae||{}),ie=(e=>(e[e.lowToHigh=0]="lowToHigh",e[e.highToLow=1]="highToLow",e))(ie||{}),H=(e=>(e[e.web=0]="web",e[e.win=1]="win",e[e.webWarning=2]="webWarning",e[e.winWarning=3]="winWarning",e[e.cat=4]="cat",e))(H||{});const or=({className:e,...s})=>t.jsx(Zt,{className:h("text-muted-foreground",e),...s}),ar=({className:e,...s})=>t.jsx(Zt,{className:h("text-red-500",e),...s}),ir=({className:e,...s})=>t.jsx(Xt,{className:h("text-muted-foreground",e),...s}),lr=({className:e,...s})=>t.jsx(Xt,{className:h("text-red-500",e),...s}),cr=({className:e,...s})=>t.jsx(Un,{className:h("text-muted-foreground",e),...s});function dr(e){switch(e){case 0:return or;case 2:return ar;case 1:return ir;case 3:return lr;case 4:return cr;default:return e}}function ur(e){const s={id:fe.asRelativeNumber(),idx:e.idx,fname:e.fname,fpath:n(e.fpath),fmodi:e.fmodi,size:e.size,raw:e.raw,file:e.file,entry:e.entry,state:{isGroupAtom:m(!1),isCurrentAtom:m(!1)},stats:{}};return r(s),s;function n(o){const a=(o||"").replace(/^\//,"").split(/[\\\/]/);return a.pop(),a.join("/")}function r(o){let a,i,l;try{const u=dt(o.raw||"");a=u.mani,i=u.fcat,l=ut(a),o.mani=a,o.fcat=i,o.meta=l,o.stats=rr(o)}catch(u){const f=`tm parse error: ${u}
${o.fname}
${o.raw}`;o.raw=f,o.failed=!0,console.error(f)}}}const me=m(null),fr=m(e=>{const s=e(me);return s?e(s):null}),Ce=O({msg:""}),_=O({manual:0,normal:0,empty:0}),mr={showNormal:!0,showManual:!0,showEmpty:!0},le={textAtom:m(""),caseSensitiveAtom:m(!1)},pr={sortBy:ae.index,order:ie.highToLow},Qt={itemSize:Yt.normal,showIndex:!1};O(Qt);const pe=m(null,async(e,s,n)=>{n.length>100&&(Ce.msg="Parsing...",await Dn(100)),s(me,null),_.normal=0,_.manual=0,_.empty=0;const r=[],o=n.filter(i=>i.size).map(i=>{const l=ur(i);return Jt(l)?_.empty++:Gt(l)?_.manual++:_.normal++,l}).filter(i=>{const l=i.failed||!i.mani&&!i.fcat;return l&&(i.failed&&console.error(i.raw),r.push(i)),!l});r.length&&xr(r);const a=o.map(i=>m(i));s(Le,a),Ce.msg=""});function xr(e){const s=e.length>1,n=`There ${s?"are":"is"} ${e.length} unsupported file${s?"s":""}.`;E.warning(n,{})}const $e=["dpm","dpn"],hr={maxControls:0,acquireXml:!1,iconAutoUpdate:!0,iconsLarge:!1},Ut="electron-window-monitor-old:ui",es="v1",gr={uiState:hr},ce=O(br());function br(){var o;let e,s=localStorage.getItem(Ut);if(s)try{e=(o=JSON.parse(s))==null?void 0:o[es]}catch{console.error("storageUi bad format")}return{uiState:Pn({defaults:gr.uiState,loaded:e})}}Oe(ce.uiState,()=>{ts(),localStorage.setItem(Ut,JSON.stringify({[es]:ce.uiState}))});const g=O({buildRunning:!1,buildError:"",buildFailedBody:""}),jr=Rs(g),k=O({buildCounter:0,getPosProgress:null}),wr=m(null,(e,s,n)=>{switch(n.type){case"m2r:loaded-files":{s(pe,n.filesCnt);break}case"m2r:dark-mode":{console.log("case dark-mode, active",n.active);break}case"m2r:reload-files":{console.log("m2r:reload-files");break}case"m2r:detection-progress":{k.buildCounter=n.progress;break}case"m2r:position-progress":{k.getPosProgress=n.progress;break}case"m2r:failed-raw-content":{g.buildFailedBody=n.body;break}case"m2r:log":{console.log("m2r:log",JSON.stringify(JSON.parse(n.body),null,4));break}default:{const r=n;throw new Error(`
Unknown IPC-listener: ${JSON.stringify(r)}
`)}}}),ke={listeners:new Set,update(e){e&&this.listeners.forEach(s=>s(e))}};function yr(){const e=D(wr);return c.useEffect(()=>{const s=n=>n&&e(n);return ke.listeners.add(s),()=>{ke.listeners.delete(s)}},[e]),null}function ts(){J({type:"r2m:set-napi-options",state:{maxControls:ce.uiState.maxControls}})}function Nr(){return c.useEffect(()=>{ts()},[]),null}var S=typeof tmApi<"u"?tmApi:void 0;function We(){return!!S}S==null||S.setCbCallFromMain((e,s)=>ke.update(s));function J(e){S==null||S.callMain(e)}async function xe(e){return S==null?void 0:S.invokeMain(e)}function vr(e,s){const n={type:"r2mi:load-files",filenames:e,...s&&{allowedExt:s}};return S==null?void 0:S.invokeMain(n)}function Cr(e){var s;return((s=/(?:\.([^./\\]+))?$/.exec(e))==null?void 0:s[1])||""}async function $r(e){return new Promise((s,n)=>{e.file(s,n)})}async function st(e){return new Promise((s,n)=>{e.readEntries(s,n)})}async function kr(e){const s=[];let n=await st(e);for(;n.length>0;)s.push(...n),n=await st(e);return s}async function Sr(e){const s=[],n=[];for(let r=0,o=e.length;r<o;r++){const a=e[r],i=a.webkitGetAsEntry();i?n.push(i):console.error("no entry for item",a)}for(;n.length>0;){const r=n.shift();r&&(r.isFile?s.push(r):r.isDirectory&&n.push(...await kr(r.createReader())))}return s}function Dr(e){return new Promise((s,n)=>{const r=new FileReader,o=()=>n(`File (${e.name}) reading was aborted`);r.onabort=o,r.onerror=o,r.onload=()=>{var a;return s(((a=r.result)==null?void 0:a.toString())||"")},r.readAsText(e)})}async function ss(e){const s=[];for(const[n,r]of e.entries()){if(!r.fileHandle){console.error("Empty entry or file",r);continue}try{const o={id:fe.asRelativeNumber(),idx:n,fname:r.fname,fpath:r.fpath,fmodi:r.fileHandle.lastModified,size:r.fileHandle.size,raw:"",entry:r.entry,file:r.fileHandle,notOur:r.notOur,failed:!1};try{o.raw=r.notOur?"":await Dr(r.fileHandle),r.notOur&&(o.failed=!0)}catch(a){o.raw=a instanceof Error?a.message:JSON.stringify(a),o.failed=!0}s.push(o)}catch(o){console.error("Error processing drop item:",o,r)}}return s}function ns(e,s){const n=Cr(e||"").replace(".","").toLowerCase();return s.includes(n)}async function Ir(e,s){let n=await r(e);return s&&n.forEach(o=>o.notOur=!ns(o.fname,s)),ss(n);async function r(o){const a=await Sr(o);let i=[];try{i=await Promise.all(a.map(async l=>({fname:l.name,fpath:l.fullPath,fileHandle:await $r(l),entry:l,notOur:!1})))}catch{console.error("cannot read from DataTransferItemList",o)}return i}}async function Mr(e,s){let n=await r(e);return s&&n.forEach(o=>o.notOur=!ns(o.fname,s)),ss(n);async function r(o){let a=[];try{a=await Promise.all(o.map(async i=>({fname:i.name,fpath:i.webkitRelativePath,fileHandle:i,entry:void 0,notOur:!1})))}catch{console.error("cannot read from File[]",o)}return a}}function Fr(e){return[...e].map(n=>n.path).filter(Boolean)}const Tr=m(null,async(e,s,n)=>{let r;if(We()){const o=[...n.files],a=Fr(o);if(!a.length)return;r=await vr(a,$e)}else r=await Ir(n.items,$e);r&&s(pe,r)}),rs=m(null,async(e,s,n)=>{if(!n)return;let r=await Mr(n,$e);r&&s(pe,r)}),Rr={positions:{}},nt={ui:{theme:"light",resisablesState:Rr,shownManis:mr,filesSortOrder:pr,fileListItems:Qt}},os="pmat24-lite-app-settings",as="v1",N=O(Ar());function Ar(){var r;const e=localStorage.getItem(os);let s=nt;if(e)try{s=(r=JSON.parse(e))==null?void 0:r[as]}catch{console.error("storage bad format")}return qt(nt,s)}Vt(N.ui.theme);Oe(N,()=>{Vt(N.ui.theme)});const Or=Ln(()=>localStorage.setItem(os,JSON.stringify({[as]:N})),400);Oe(N,Or);const zr=m(e=>{const{regex:s,winOnly:n,webOnly:r,whyOnly:o,capOnly:a,clsOnly:i}=zn(e(le.textAtom),e(le.caseSensitiveAtom)),{showNormal:l,showManual:u,showEmpty:f}=N.ui.shownManis;let p=e(Le).filter(y=>{const j=e(y);if(a)return Mn(j,s);if(i)return Fn(j,s);const I=In(j);if(n&&I||r&&!I||o&&!Pe(j))return!1;let M=Jt(j)?f:Gt(j)?u:l;return M&&s&&(M=En(j,s)),M});const{order:x,sortBy:$}=N.ui.filesSortOrder;return $===ae.index?x===ie.highToLow&&p.sort((y,j)=>{const I=e(y),M=e(j),R=I.idx,A=M.idx;return R<A?1:R>A?-1:0}):$===ae.url&&p.sort((y,j)=>{var w,C;const I=e(y),M=e(j),R=((w=I==null?void 0:I.stats)==null?void 0:w.domain)||"zz",A=((C=M==null?void 0:M.stats)==null?void 0:C.domain)||"zz";return x===ie.lowToHigh?R<A?-1:R>A?1:0:R<A?1:R>A?-1:0}),p}),He=m(e=>{const s=e(zr);if(!s.length)return[];return s.map(o=>{const a=e(o);if(a.fcat||!a.mani)return;const i=a.stats.domain||a.fname,l=r(a);return{id:a.id,name:i,fcnt:o,icon:dr(l)}}).filter(Boolean);function r(o){const a=Pe(o);return o.fcat?H.cat:a?o.stats.isWeb?H.webWarning:H.winWarning:o.stats.isWeb?H.web:H.win}}),Er=m(null,(e,s)=>{s(pe,[]),s(me,null)});m(e=>!!e(Le).length);function Lr(e){var l;const s=e.pool&&((l=e.controls)!=null&&l.length)?e:null;if(!s)return null;const n=As(s.pool);return{pool:s.pool,controls:o(n,s.controls)};function o(u,f){return f.map(p=>{const x=Qe.fieldPathItems(u,p.path),$=i(x.loc),y=a(x.p4||x.p4a);return{control:p,meta:{uuid:Os.asRelativeNumber(),path:x,...$&&{rect:$},...y&&{role:y}}}})}function a(u){if(!(u!=null&&u.length))return;const f=u.at(-1);return zs(f==null?void 0:f.roleString)}function i(u){const f=Qe.loc.getControlRect(u);if(f)return{left:f[0],top:f[1],right:f[2],bottom:f[3]}}}const ne=m(""),Se=m(null);m(null,async(e,s,n)=>{try{if(!n)throw new Error("No hwnd");if(g.buildRunning)return;g.buildRunning=!0,k.buildCounter=0,g.buildError="",g.buildFailedBody="";const r=await xe({type:"r2mi:get-window-controls",hwnd:n});if(e(ne)===r){g.buildRunning=!1,k.buildCounter=0,g.buildError="";return}s(ne,r);const a=JSON.parse(r||"{}"),i=Lr(a);s(Se,i),s(De,k.buildCounter),g.buildRunning=!1,k.buildCounter=0,g.buildError="",console.log("doGetWindowControlsAtom.set",JSON.stringify(a,null,4))}catch(r){s(ne,""),s(Se,null),g.buildRunning=!1,k.buildCounter=0,g.buildError=Be(r),s(De,k.buildCounter),console.error(`'doGetWindowControlsAtom' ${r instanceof Error?r.message:`${r}`}`)}});const we=m(void 0),Pr=m(null),rt=new Map,Br=m(null,async(e,s,n)=>{try{if(!n)throw new Error("No hwnd");const r=rt.get(n),o=r||await xe({type:"r2mi:get-window-icon",hwnd:n});if(o&&o!==r&&rt.set(n,o),e(we)!==o){s(we,o);const i=JSON.parse(o||""),l=new Image;l.src=`data:image/png;base64,${i.data}`,s(Pr,l)}g.buildError=""}catch(r){s(we,""),g.buildError=Be(r),console.error(`'doGetWindowIconAtom' ${r instanceof Error?r.message:`${r}`}`)}}),re=m(""),Y=m(null),De=m(0);m(null,(e,s)=>{s(Y,null),s(re,"")});const _r=m(null,async(e,s)=>{try{const n=await xe({type:"r2mi:get-target-hwnd"});if(e(re)===n)return;s(re,n),s(ne,void 0),s(Se,null);const o=JSON.parse(n||"{}");s(Y,o),ce.uiState.iconAutoUpdate&&o.hwnd&&s(Br,o.hwnd)}catch(n){s(re,""),s(Y,null),console.error(`'doGetTargetHwndAtom' ${n instanceof Error?n.message:`${n}`}`)}});m(e=>{const s=e(Y),{buildRunning:n}=e(jr);return!(s==null?void 0:s.hwnd)||n});const ye=m(""),ot=m(null),is=m(void 0);m(null,async(e,s,{hwnd:n,wantXml:r})=>{var o;try{if(!n)throw new Error("No hwnd");if(g.buildRunning)return;g.buildRunning=!0,k.buildCounter=0,g.buildError="",g.buildFailedBody="";const a=await xe({type:"r2mi:get-window-mani",hwnd:n,wantXml:r});if(e(ye)===a){g.buildRunning=!1,k.buildCounter=0,g.buildError="";return}if(s(ye,a),r)s(is,a),console.log(`doGetWindowManiXmlAtom.set
${a}`);else{const l=JSON.parse(a||"{}"),u=l.pool&&((o=l.controls)!=null&&o.length)?l:null;s(ot,u),console.log("doGetWindowManiAtom.set",JSON.stringify(l,null,4))}s(De,k.buildCounter),g.buildRunning=!1,k.buildCounter=0,g.buildError=""}catch(a){s(ye,""),s(ot,null),g.buildRunning=!1,k.buildCounter=0,g.buildError=Be(a),console.error(`'doGetWindowManiAtom' ${a instanceof Error?a.message:`${a}`}`)}});function Wr(e){const s=dt(e);return{mani:s.mani,fcat:s.fcat,meta:ut(s.mani)}}m(e=>{const s=e(is);return s?Wr(s):null});const ee=m(-1),te=m(!1);let z;m(e=>e(te),(e,s,{doStart:n,callback:r})=>{if(e(te))n||(s(te,!1),s(ee,-1),z&&(clearTimeout(z),z=void 0));else if(n){let a=function(){r==null||r(),s(ee,e(ee)+1),z=setTimeout(a,1e3)};s(te,!0),z&&(clearTimeout(z),z=void 0),s(ee,1),z=setTimeout(a,1e3)}});m(null,(e,s,{hwnd:n,rect:r})=>{if(r){if(n===void 0){const o=e(Y);n=o==null?void 0:o.hwnd}n&&J({type:"r2m:highlight-rect",hwnd:n,rect:r})}});const Hr=" data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ",he=Us,ge=en,at=gt,it=tn,Gr="px-2 py-1.5 focus:bg-accent data-[state=open]:bg-accent rounded-sm outline-none select-none cursor-default flex items-center",Ie=c.forwardRef(({className:e,inset:s,children:n,...r},o)=>t.jsxs(xt,{ref:o,className:d(Gr,s&&"pl-8",e),...r,children:[n,t.jsx(Ys,{className:"ml-auto h-4 w-4"})]}));Ie.displayName=xt.displayName;const ls=`p-1 min-w-[8rem] text-sm z-50 text-popover-foreground bg-popover border rounded-md shadow-md overflow-hidden  ${Hr}`,Me=c.forwardRef(({className:e,...s},n)=>t.jsx(ht,{ref:n,className:d(ls,e),...s}));Me.displayName=ht.displayName;const Jr=ls,Q=c.forwardRef(({className:e,sideOffset:s=4,...n},r)=>t.jsx(gt,{children:t.jsx(bt,{ref:r,className:d(Jr,e),sideOffset:s,...n})}));Q.displayName=bt.displayName;const Vr="relative px-2 py-1.5 focus:text-accent-foreground focus:bg-accent data-[disabled]:opacity-50 data-[disabled]:pointer-events-none transition-colors rounded-sm outline-none select-none cursor-default flex items-center",v=c.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(jt,{ref:r,className:d(Vr,s&&"pl-8",e),...n}));v.displayName=jt.displayName;const qr="relative pl-8 pr-2 py-1.5 focus:text-accent-foreground focus:bg-accent data-[disabled]:opacity-50 data-[disabled]:pointer-events-none transition-colors rounded-sm outline-none select-none cursor-default flex items-center",Kr=c.forwardRef(({className:e,children:s,checked:n,...r},o)=>t.jsxs(wt,{ref:o,className:d(qr,e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(yt,{children:t.jsx(ue,{className:"h-4 w-4"})})}),s]}));Kr.displayName=wt.displayName;const Zr="relative pl-8 pr-2 py-1.5 focus:text-accent-foreground focus:bg-accent data-[disabled]:opacity-50 data-[disabled]:pointer-events-none transition-colors rounded-sm outline-none select-none cursor-default flex items-center",Xr=c.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(Nt,{ref:r,className:d(Zr,e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(yt,{children:t.jsx(Qs,{className:"h-4 w-4 fill-current"})})}),s]}));Xr.displayName=Nt.displayName;const Yr=c.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(vt,{ref:r,className:d("px-2 py-1.5 font-semibold",s&&"pl-8",e),...n}));Yr.displayName=vt.displayName;const G=c.forwardRef(({className:e,...s},n)=>t.jsx(Ct,{ref:n,className:d("-mx-1 my-1 h-px bg-muted",e),...s}));G.displayName=Ct.displayName;const be=({className:e,...s})=>t.jsx("span",{className:d("ml-auto text-xs tracking-widest opacity-60",e),...s});be.displayName="DropdownMenuShortcut";const Qr="text-sm font-medium focus-visible:ring-1 focus-visible:ring-ring focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none transition-colors rounded-md inline-flex items-center justify-center",Ur=ft(Qr,{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"px-4 py-2 h-9",xs:"px-2 h-7 text-xs rounded-md",sm:"px-3 h-8 text-xs rounded-md",lg:"px-8 h-10 rounded-md",icon:"size-9"}},defaultVariants:{variant:"outline",size:"xs"}}),F=c.forwardRef(({className:e,variant:s,size:n,asChild:r=!1,...o},a)=>{const i=r?sn:"button";return t.jsx(i,{className:d(Ur({variant:s,size:n,className:e})),ref:a,...o})});F.displayName="Button";function Ne({label:e,theme:s,current:n}){return t.jsxs(v,{className:"text-xs grid grid-cols-[16px,1fr] items-center gap-x-2",onClick:()=>N.ui.theme=s,children:[n===s&&t.jsx(Ls,{className:"size-4"}),t.jsx("div",{className:"col-start-2",children:e})]})}function eo(){const{theme:e}=V(N).ui,s=e==="dark",n=e==="system",r=!s&&!n;return t.jsxs("div",{className:"focus-within:ring-1 focus-within:ring-ring rounded-md flex items-center",children:[t.jsxs(F,{variant:"ghost",size:"xs",tabIndex:-1,className:"py-0 border-y border-l border-input rounded-r-none",onClick:()=>N.ui.theme=N.ui.theme==="dark"?"light":"dark",children:[n&&t.jsx(Gn,{className:"size-4"}),r&&t.jsx(Wn,{className:"size-4"}),s&&t.jsx(Hn,{className:"size-4 p-0.5"})]}),t.jsxs(he,{children:[t.jsx(ge,{asChild:!0,children:t.jsx(F,{variant:"ghost",size:"xs",className:"px-1 py-0 border border-input rounded-l-none focus-visible:ring-0",children:t.jsx(Es,{className:"size-3"})})}),t.jsxs(Q,{align:"end",children:[t.jsx(Ne,{label:"Light",theme:"light",current:e}),t.jsx(Ne,{label:"Dark",theme:"dark",current:e}),t.jsx(Ne,{label:"System",theme:"system",current:e})]})]})]})}const to=c.forwardRef(({className:e,...s},n)=>t.jsx($t,{ref:n,className:d("border-b",e),...s}));to.displayName="AccordionItem";const so="flex-1 py-4 text-sm font-medium hover:underline [&[data-state=open]>svg]:rotate-180 transition-all flex items-center justify-between",no=c.forwardRef(({className:e,children:s,...n},r)=>t.jsx(kt,{className:"flex",children:t.jsxs(ze,{ref:r,className:d(so,e),...n,children:[t.jsx("div",{children:s}),t.jsx(nn,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));no.displayName=ze.displayName;const ro="text-sm overflow-hidden data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",oo=c.forwardRef(({className:e,children:s,...n},r)=>t.jsx(Ee,{ref:r,className:d(ro,e),...n,children:t.jsx("div",{className:"pb-4 pt-0",children:s})}));oo.displayName=Ee.displayName;const ao="peer w-4 h-4 shrink-0 border-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:text-accent data-[state=checked]:bg-muted-foreground border rounded-sm shadow",Ge=c.forwardRef(({className:e,...s},n)=>t.jsx(St,{ref:n,className:d(ao,e),...s,children:t.jsx(rn,{className:d("flex items-center justify-center text-current"),children:t.jsx(ue,{className:"h-4 w-4"})})}));Ge.displayName=St.displayName;const Je=cn,io=ln,lo="fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",cs=c.forwardRef(({className:e,...s},n)=>t.jsx(Dt,{ref:n,className:d(lo,e),...s}));cs.displayName=Dt.displayName;const co="fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] z-50 p-6 w-full md:w-full max-w-lg bg-background data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] border sm:rounded-lg shadow-lg duration-200 grid gap-4",je=c.forwardRef(({className:e,children:s,noClose:n,...r},o)=>t.jsxs(io,{children:[t.jsx(cs,{}),t.jsxs(It,{ref:o,className:d(co,e),...r,children:[s,!n&&t.jsx(Ve,{})]})]}));je.displayName=It.displayName;const uo="absolute right-4 top-4 opacity-70 transition-opacityhover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 data-[state=open]:bg-accent data-[state=open]:text-muted-foreground ring-offset-background rounded-sm disabled:pointer-events-none";function Ve({className:e,...s}){return t.jsxs(on,{className:d(uo,e),...s,children:[t.jsx(an,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})}function ds({className:e,...s}){return t.jsx("div",{className:d("text-center sm:text-left flex flex-col space-y-1.5",e),...s})}const fo=c.forwardRef(({className:e,...s},n)=>t.jsx(Mt,{ref:n,className:d("text-lg font-semibold leading-none tracking-tight",e),...s}));fo.displayName=Mt.displayName;const mo=c.forwardRef(({className:e,...s},n)=>t.jsx(Ft,{ref:n,className:d("text-sm text-muted-foreground",e),...s}));mo.displayName=Ft.displayName;function po({shouldScaleBackground:e=!0,...s}){return t.jsx(T.Root,{shouldScaleBackground:e,...s})}const xo=T.Trigger,ho=T.Portal,us=c.forwardRef(({className:e,...s},n)=>t.jsx(T.Overlay,{ref:n,className:d("fixed inset-0 bg-black/80 z-50",e),...s}));us.displayName=T.Overlay.displayName;const fs=c.forwardRef(({className:e,children:s,withTopBar:n,...r},o)=>t.jsxs(ho,{children:[t.jsx(us,{}),t.jsxs(T.Content,{ref:o,className:d("fixed mt-24 inset-x-0 bottom-0 h-auto bg-background z-50 border rounded-t-[10px] flex flex-col",e),...r,children:[n&&t.jsx("div",{className:"mx-auto mt-4 w-[100px] h-2 bg-muted rounded-full"}),s]})]}));fs.displayName="DrawerContent";const go=c.forwardRef(({className:e,...s},n)=>t.jsx(T.Title,{ref:n,className:d("text-lg font-semibold leading-none tracking-tight",e),...s}));go.displayName=T.Title.displayName;const bo=c.forwardRef(({className:e,...s},n)=>t.jsx(T.Description,{ref:n,className:d("text-sm text-muted-foreground",e),...s}));bo.displayName=T.Description.displayName;function ms({openFolder:e,multiple:s=!0,...n}){const r={...e&&{webkitdirectory:""}};return t.jsx("input",{className:"hidden",type:"file",multiple:s,...r,...n})}const jo="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",wo=ft(jo),de=c.forwardRef(({className:e,...s},n)=>t.jsx(Tt,{ref:n,className:d(wo(),e),...s}));de.displayName=Tt.displayName;const yo="px-3 py-1 w-full h-9 text-sm border-input bg-transparent file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:opacity-50 disabled:cursor-not-allowed transition-colors border rounded-md shadow-sm flex",ps=c.forwardRef(({className:e,type:s,...n},r)=>t.jsx("input",{type:s,className:d(yo,e),ref:r,...n}));ps.displayName="Input";const No=c.forwardRef(({className:e,...s},n)=>t.jsx(Rt,{className:d("grid gap-2",e),...s,ref:n}));No.displayName=Rt.displayName;const vo="h-4 w-4 aspect-square text-primary border-primary focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 border rounded-full shadow",Co=c.forwardRef(({className:e,children:s,...n},r)=>t.jsx(At,{ref:r,className:d(vo,e),...n,children:t.jsx(dn,{className:"flex items-center justify-center",children:t.jsx(ue,{className:"h-3.5 w-3.5 fill-primary"})})}));Co.displayName=At.displayName;const $o=({className:e,...s})=>t.jsx(Ps,{className:d("w-full h-full flex data-[panel-group-direction=vertical]:flex-col",e),...s}),lt=Bs,ko="relative group w-px bg-border hover:bg-sky-600 transition-colors delay-[.15s] after:absolute after:left-1/2 after:-translate-x-1/2 after:w-1 after:inset-y-0 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:h-1 [&[data-panel-group-direction=vertical]>div]:rotate-90 flex items-center justify-center";function So({className:e,children:s,...n}){return t.jsx(_s,{className:d(ko,e),...n,children:s})}function Do(e){e==null||e[e.isCollapsed()?"expand":"collapse"]()}function ct(e,s,n){const r=e.current,o=s.current;r&&o&&Do((!r.isCollapsed()&&!o.isCollapsed()?n:!n)?r:o)}const Io="invisible group-hover:visible transition-all delay-150",ve="p-px size-4 invisible group-hover:visible transition-all delay-150 bg-border outline outline-1 outline-muted-foreground/30 rounded-sm";function Mo({className:e,...s}){return t.jsx("div",{className:h("w-3 h-4 rounded-sm border bg-border flex items-center justify-center z-10",e),...s,children:t.jsx(un,{className:"h-2.5 w-2.5"})})}const U=c.forwardRef(({className:e,children:s,horizontal:n,...r},o)=>t.jsxs(Ot,{ref:o,className:d("relative overflow-hidden","[&[data-fixed-width]>div>div]:![display:block]",e),...r,children:[t.jsx(fn,{className:"h-full w-full rounded-[inherit]",children:s}),t.jsx(Fe,{}),n&&t.jsx(Fe,{orientation:"horizontal"}),t.jsx(mn,{})]}));U.displayName=Ot.displayName;const Fe=c.forwardRef(({className:e,orientation:s="vertical",...n},r)=>t.jsx(zt,{ref:r,orientation:s,className:d("flex touch-none select-none transition-colors",s==="vertical"&&"w-2.5 h-full border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(pn,{className:d("relative rounded-full bg-border",s==="vertical"&&"flex-1")})}));Fe.displayName=zt.displayName;const Fo="px-3 py-2 h-9 w-full text-sm border-input bg-transparent ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 border rounded-md shadow-sm flex items-center justify-between",To=c.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(Et,{ref:r,className:d(Fo,e),...n,children:[s,t.jsx(xn,{asChild:!0,children:t.jsx(hn,{className:"h-4 w-4 opacity-50"})})]}));To.displayName=Et.displayName;const Ro="z-50 relative min-w-[8rem] bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 overflow-hidden border rounded-md shadow-md",Ao="data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",Oo="w-full h-[var(--radix-select-trigger-height)] min-w-[var(--radix-select-trigger-width)]",zo=c.forwardRef(({className:e,children:s,position:n="popper",...r},o)=>t.jsx(gn,{children:t.jsx(Lt,{ref:o,className:d(Ro,n==="popper"&&Ao,e),position:n,...r,children:t.jsx(bn,{className:d("p-1",n==="popper"&&Oo),children:s})})}));zo.displayName=Lt.displayName;const Eo=c.forwardRef(({className:e,...s},n)=>t.jsx(Pt,{ref:n,className:d("px-2 py-1.5 text-sm font-semibold",e),...s}));Eo.displayName=Pt.displayName;const Lo="relative pl-2 pr-8 py-1.5 w-full text-sm focus:bg-accent focus:text-accent-foreground data-[disabled]:opacity-50 data-[disabled]:pointer-events-none rounded-sm outline-none select-none cursor-default flex items-center",Po=c.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(Bt,{ref:r,className:d(Lo,e),...n,children:[t.jsx("span",{className:"absolute right-2 h-3.5 w-3.5 flex items-center justify-center",children:t.jsx(jn,{children:t.jsx(ue,{className:"h-4 w-4"})})}),t.jsx(wn,{children:s})]}));Po.displayName=Bt.displayName;const Bo=c.forwardRef(({className:e,...s},n)=>t.jsx(_t,{ref:n,className:d("-mx-1 my-1 h-px bg-muted",e),...s}));Bo.displayName=_t.displayName;const _o="group toast group-[.toaster]:text-xs group-[.toaster]:text-foreground group-[.toaster]:bg-background group-[.toaster]:border-border group-[.toaster]:shadow-lg ",Wo="group-[.toast]:text-muted-foreground ",Ho="[--toast-close-button-start:initial] [--toast-close-button-end:0] ",Go="group-[.toast]:text-primary-foreground group-[.toast]:bg-primary ",Jo="group-[.toast]:text-muted-foreground group-[.toast]:bg-muted ",Vo="group-[.toaster]:text-white group-[.toaster]:bg-red-600 group-[.toaster]:border-red-700 group-[.toaster]:shadow-muted-foreground/30 group-[.toaster]:shadow-md ",qo="group-[.toaster]:text-white group-[.toaster]:bg-sky-600 group-[.toaster]:border-sky-700 group-[.toaster]:shadow-muted-foreground/30 group-[.toaster]:shadow-md ",Ko="group-[.toaster]:text-black group-[.toaster]:bg-orange-400 group-[.toaster]:border-orange-500 group-[.toaster]:shadow-muted-foreground/30 group-[.toaster]:shadow-md ";function Zo(e){return t.jsx(Ws,{className:"toaster group",toastOptions:{classNames:{toast:_o,closeButton:Ho,error:Vo,info:qo,warning:Ko,description:Wo,actionButton:Go,cancelButton:Jo}},richColors:!0,...e})}const Xo="peer w-[36px] h-[20px] border-transparent focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring focus-visible:ring-offset-background focus-visible:outline-none disabled:opacity-50 disabled:cursor-not-allowed data-[state=checked]:bg-primary data-[state=unchecked]:bg-input transition-colors border-2 rounded-full shadow-sm cursor-pointer shrink-0 inline-flex items-center",Yo="block w-4 h-4 bg-background data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 transition-transform pointer-events-none ring-0 rounded-full shadow-lg",Qo=c.forwardRef(({className:e,...s},n)=>t.jsx(Wt,{ref:n,className:d(Xo,e),...s,children:t.jsx(yn,{className:d(Yo)})}));Qo.displayName=Wt.displayName;const Uo="px-3 py-2 w-full min-h-[60px] text-sm border-input bg-transparent placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:opacity-50 disabled:cursor-not-allowed border rounded-md shadow-sm flex",xs=c.forwardRef(({className:e,...s},n)=>t.jsx("textarea",{className:d(Uo,e),ref:n,...s}));xs.displayName="Textarea";const ea='after:![content:attr(data-replicated)_"_"] after:whitespace-pre after:border-transparent after:invisible after:[grid-area:1/1/2/2] grid',ta="resize-none overflow-hidden [grid-area:1/1/2/2]",sa="after:px-3 after:py-2 after:text-sm after:border",na=c.forwardRef(({containerPaddingFont:e=sa,className:s,value:n,...r},o)=>t.jsx("div",{className:d(ea,e),"data-replicated":n,children:t.jsx(xs,{className:d(ta,s),value:n,ref:o,...r})}));na.displayName="TextareaAutoGrow";const ra=Nn,oa=vn,aa=Cn,ia=$n,la="z-50 px-3 py-1.5 text-xs text-primary-foreground bg-primary animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 overflow-hidden rounded-md",hs=c.forwardRef(({className:e,sideOffset:s=4,...n},r)=>t.jsx(Ht,{ref:r,sideOffset:s,className:d(la,e),...n}));hs.displayName=Ht.displayName;function ca({doSetFilesFromDropAtom:e,activeAtom:s}){const n=D(s),r=D(e),o=c.useRef(0);c.useEffect(()=>{function a(){o.current++||n(!0)}function i(b){b.preventDefault()}function l(){--o.current||n(!1)}function u(b){b.preventDefault(),o.current=0,n(!1),b.dataTransfer&&r(b.dataTransfer)}const f=document.addEventListener;return f("dragenter",a),f("dragover",i),f("dragleave",l),f("drop",u),()=>{const b=document.removeEventListener;b("dragenter",a),b("dragover",i),b("dragleave",l),b("drop",u)}},[])}function da({doSetFilesFromDropAtom:e}){const[s]=c.useState(m(!1)),n=P(s);return ca({doSetFilesFromDropAtom:e,activeAtom:s}),t.jsx(t.Fragment,{children:n&&t.jsx("div",{className:"fixed inset-0 grid place-items-center text-5xl font-bold text-slate-50 bg-slate-800/90 z-10",children:"Drop it!"})})}const Te="open-folders";function ua({setMenuOpen:e,onFiles:s,children:n,openFolder:r}){const[o,a]=c.useState(!1);return t.jsx(v,{asChild:!0,onSelect:i=>i.preventDefault(),onFocus:()=>{o&&e(!1),a(!1)},children:t.jsxs("label",{children:[t.jsx(ms,{accept:".dpm,.dpn",openFolder:r,onClick:()=>a(!0),onChange:i=>{i.target.files&&s([...i.target.files]),e(!1)}}),n]})})}function fa({setMenuOpen:e,children:s}){const[n,r]=c.useState(!1);return t.jsx(v,{asChild:!0,onSelect:o=>o.preventDefault(),onFocus:()=>{n&&e(!1),r(!1)},children:t.jsx("label",{htmlFor:Te,onClick:()=>r(!0),children:s})})}function ma({setMenuOpen:e}){const s=D(rs);return t.jsx(t.Fragment,{children:We()?t.jsxs(t.Fragment,{children:[t.jsx(v,{onClick:()=>J({type:"r2m:file:load-manifests-dialog"}),children:"Open Files..."}),t.jsx(v,{onClick:()=>J({type:"r2m:file:load-manifests-dialog",openDirs:!0}),children:"Open Folder..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(ua,{setMenuOpen:e,onFiles:n=>s(n),children:"Open Files..."}),t.jsx(fa,{setMenuOpen:e,onFiles:n=>s(n),openFolder:!0,children:"Open Folder..."})]})})}function pa({setMenuOpen:e}){const s=D(rs);return t.jsx(t.Fragment,{children:t.jsx(ms,{id:Te,openFolder:!0,onChange:n=>{n.target.files&&s([...n.target.files]),e(!1);const r=document.getElementById(Te);r&&(r.value="")}})})}const qe=m(!1),Ke=m(!1),gs="Ctrl+D",xa="Ctrl+S",ha="Ctrl+,";function ga(){const e=D(qe),s=D(Ke);return se(n=>n.ctrlKey&&n.key===",",n=>{n.preventDefault(),e(!0)}),se(n=>n.ctrlKey&&n.key==="s",n=>{n.preventDefault(),e(!0)}),se(n=>n.altKey&&n.key==="s",n=>{n.preventDefault(),s(!0)}),null}function ba({setIsOpen:e}){const s=V(N).ui.fileListItems;return t.jsxs("div",{className:"min-h-56 text-xs",children:[t.jsxs(ds,{className:"relative text-base font-bold flex items-center",children:[t.jsx("div",{className:"py-4",children:"Settings"}),t.jsx(Ve,{onClick:()=>e(!1)})]}),t.jsxs("div",{className:"mt-2 px-4",children:[t.jsx(de,{className:"block mb-2",children:"File list options"}),t.jsxs(de,{className:"text-xs font-normal flex place-items-center gap-2",children:[t.jsx(Ge,{checked:s.showIndex,onCheckedChange:n=>N.ui.fileListItems.showIndex=!!n}),"Show file index"]})]})]})}function ja(){const[e,s]=L(qe);return t.jsx(t.Fragment,{children:t.jsx(Je,{open:e,onOpenChange:()=>s(!1),children:t.jsx(je,{className:"p-0 !w-2/3 max-w-3xl data-[state=open]:[animation-duration:200ms]",noClose:!0,children:t.jsx(ba,{setIsOpen:s})})})})}const oe=[{id:1,name:"Login window"},{id:2,name:"Register window"},{id:3,name:"Forgot password window"},{id:4,name:"Reset password window"},{id:5,name:"Profile window"},{id:6,name:"Settings window"},{id:7,name:"Terms window"},{id:8,name:"Privacy window"},{id:9,name:"Cookie policy window"},{id:10,name:"404 window"},{id:11,name:"500 window"},{id:12,name:"Maintenance window"},{id:13,name:"Coming soon window"},{id:14,name:"Under construction window"},{id:15,name:"Custom window"}];function wa({selectedIdxAtom:e,toastIdAtom:s}){const n=P(e),[r,o]=L(s);return c.useEffect(()=>()=>{r&&E.dismiss(r)},[r,n]),t.jsx(F,{variant:"default",size:"sm",onClick:()=>{let a;n===-1?a=E("Select application window first."):a=E("No login fields detected."),a&&o(a)},children:"Create manifest"})}function ya({selectedIdxAtom:e}){const[s,n]=L(e);return t.jsxs("div",{className:"py-2 flex flex-col",children:[oe.length===0&&t.jsx("div",{className:"px-3 text-muted-foreground",children:"No windows detected"}),oe.length!==0&&oe.map((r,o)=>{const a=o===s;return t.jsxs(de,{className:h("px-3 py-1.5 text-xs font-normal cursor-pointer flex items-center gap-1",a&&"bg-accent"),children:[t.jsx(Ge,{className:"size-4",checked:a,onCheckedChange:i=>n(i?o:-1)}),t.jsx("div",{children:r.name})]},r.id)})]})}function Na({setIsOpen:e}){const s=c.useState(()=>m(-1))[0],n=c.useState(()=>m(void 0))[0],[r,o]=L(n);return c.useEffect(()=>()=>{r&&E.dismiss(r)},[r]),t.jsxs("div",{className:"min-h-56 text-xs",children:[t.jsxs(ds,{className:"relative text-base font-bold flex items-center",children:[t.jsx("div",{className:"py-4",children:"Create manifest"}),t.jsx(Ve,{onClick:()=>e(!1),tabIndex:-1})]}),t.jsxs("div",{className:"px-4 py-4",children:[t.jsx("div",{className:"mb-4",children:"Select the login window for which you will create a manifest."}),t.jsxs("div",{className:"mb-1 flex items-center justify-between",children:["Application windows",t.jsx(F,{className:"font-normal",variant:"outline",size:"xs",onClick:()=>o(E("Updated")),children:t.jsx(Zn,{className:"size-3",title:"Refresh windows list"})})]}),t.jsx("div",{className:"border-border border rounded",children:t.jsx(U,{className:"h-[25vh]",children:t.jsx(ya,{windows:oe,selectedIdxAtom:s})})}),t.jsx("div",{className:"mt-4 flex items-center justify-end",children:t.jsx(wa,{selectedIdxAtom:s,toastIdAtom:n})})]})]})}function va(){const[e,s]=L(Ke);return t.jsx(t.Fragment,{children:t.jsx(Je,{open:e,onOpenChange:()=>s(!1),children:t.jsx(je,{className:"p-0 !w-2/3 max-w-3xl rounded-md data-[state=open]:[animation-duration:200ms]",noClose:!0,children:t.jsx(Na,{setIsOpen:s})})})})}function Ca(){return t.jsxs(t.Fragment,{children:[t.jsx(ja,{}),t.jsx(va,{})]})}const bs=m(!1),Ze="pl-2 tracking-tight";function $a(){const e=D(Ke);return t.jsx(t.Fragment,{children:t.jsxs(v,{onClick:()=>e(!0),children:["Create manifest...",t.jsx(be,{className:Ze,children:xa})]})})}function ka(){return t.jsx(t.Fragment,{children:We()&&t.jsxs(t.Fragment,{children:[t.jsx(G,{}),t.jsx(v,{onClick:()=>J({type:"r2m:menu:command",what:"exit"}),children:"Exit"})]})})}const js={onClick:()=>E.error("Not implemented yet")},ws={onClick:()=>E.info("Check result in DevTools console")};function Sa(){const e=D(_r);return t.jsx(t.Fragment,{children:t.jsx(v,{onClick:()=>{ws.onClick(),console.log("click"),e()},children:"Get Second Active Window"})})}function Da(){return t.jsx(v,{onClick:()=>{ws.onClick(),console.log("click trace"),J({type:"r2m:test"})},children:"Get trace from renderer"})}function Ia(){const e=D(qe);return t.jsx(t.Fragment,{children:t.jsxs(v,{onClick:()=>e(!0),children:["Settings",t.jsx(be,{className:Ze,children:ha})]})})}function Ma(){return t.jsx(t.Fragment,{children:t.jsx(v,{...js,children:"More..."})})}function Fa(){const[e,s]=c.useState(!1);return t.jsxs(he,{open:e,onOpenChange:s,modal:!0,children:[t.jsx(ge,{asChild:!0,children:t.jsxs(F,{className:"px-1",variant:"outline",size:"xs",children:[t.jsx(_e,{className:"size-5"}),t.jsx(pa,{setMenuOpen:s})]})}),t.jsxs(Q,{className:"min-w-40 text-xs",align:"start",children:[t.jsx(ma,{setMenuOpen:s}),t.jsx(G,{}),t.jsx($a,{}),t.jsx(G,{}),t.jsxs(it,{children:[t.jsx(Ie,{children:"Preferences"}),t.jsx(at,{children:t.jsxs(Me,{className:"text-xs",children:[t.jsx(Ia,{}),t.jsx(G,{}),t.jsxs(it,{children:[t.jsx(Ie,{children:"Debug"}),t.jsx(at,{children:t.jsxs(Me,{className:"text-xs",children:[t.jsx(Sa,{}),t.jsx(Da,{})]})})]}),t.jsx(Ma,{})]})})]}),t.jsx(ka,{})]})]})}function Ta(){const e=P(He);return t.jsxs("div",{className:"px-4 py-2 bg-muted/20 border-border/50 border-b flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fa,{}),(e==null?void 0:e.length)>0&&t.jsxs("div",{className:"text-[.65rem] text-muted-foreground",children:["loaded"," ",t.jsx("span",{className:"text-text/60",children:e.length}),` file${e.length>1?"s":""}`]})]}),t.jsx(eo,{})]})}const q="w-3 h-3 inline fill-foreground/70 stroke-foreground/50 stroke-2",K="inline-block font-bold font-mono tracking-tight w-8";function Ra(){return t.jsxs("div",{className:"text-xs px-1",children:[t.jsx("div",{className:"pb-2 font-bold",children:"Search options:"}),t.jsx("div",{className:"pb-1",children:"Use the search prefix to dispay only:"}),t.jsxs("div",{className:"",children:[t.jsx(W,{className:q}),t.jsx("span",{className:K,children:"win:"})," logins for Windows apps"]}),t.jsxs("div",{className:"",children:[t.jsx(W,{className:q}),t.jsx("span",{className:K,children:"web:"})," logins for web apps"]}),t.jsxs("div",{className:"",children:[t.jsx(W,{className:q}),t.jsx("span",{className:K,children:"why:"})," logins with problems to check why"]}),t.jsxs("div",{className:"",children:[t.jsx(W,{className:q}),t.jsx("span",{className:K,children:"cap:"})," logins with window caption"]}),t.jsxs("div",{className:"",children:[t.jsx(W,{className:q}),t.jsx("span",{className:K,children:"cls:"})," logins with window classname"]})]})}function Aa(){return t.jsxs(po,{shouldScaleBackground:!1,children:[t.jsx(xo,{asChild:!0,children:t.jsx(F,{variant:"outline",className:"font-normal",children:"Fiter options"})}),t.jsx(fs,{className:"mx-auto py-4 w-1/2 max-w-sm rounded",children:t.jsx("div",{className:"grid place-content-center",children:t.jsx(Ra,{})})})]})}function Oa(){const e=P(He);return t.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-4",children:[t.jsx(U,{className:"h-[50vh] max-h-[75vh]",children:t.jsx("div",{children:e.map(s=>{const n=s.icon;return n&&t.jsxs("div",{className:"flex items-center gap-1 leading-5",children:[t.jsx(n,{className:"flex-none p-px size-4"}),t.jsx("div",{className:"",children:s.name})]},s.id)})})}),t.jsx(Aa,{})]})}function za({setIsOpen:e}){const[s,n]=L(le.textAtom);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-xs grid gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 p-px size-4"}),t.jsx(ps,{className:"pl-9 text-xs",value:s,onKeyDown:r=>{s&&(r.key==="Escape"&&(r.preventDefault(),n("")),r.key==="Enter"&&(r.preventDefault(),e(!1)))},onChange:r=>n(r.target.value),placeholder:"Search for manifests"})]}),t.jsx(Oa,{})]})})}function Ea(){const[e,s]=L(bs);return se(n=>n.ctrlKey&&n.key==="d",n=>{n.preventDefault(),s(!0)}),t.jsxs(t.Fragment,{children:[t.jsx(F,{className:"",variant:"ghost",onClick:()=>s(!0),title:`Filter files ${gs}`,children:t.jsx(qn,{className:"p-px size-4"})}),t.jsx(Je,{open:e,onOpenChange:()=>s(!1),children:t.jsx(je,{className:"px-3 py-3 !w-4/5 max-w-3xl data-[state=open]:[animation-duration:200ms]",noClose:!0,children:t.jsx(za,{setIsOpen:s})})})]})}function La(){const[e,s]=L(le.textAtom);return e?t.jsxs("div",{className:"flex items-center gap-0.5",children:[t.jsx("span",{className:"",children:"Filter:"}),t.jsx("span",{className:"",children:e}),t.jsx(F,{className:"h-6",variant:"ghost",onClick:()=>s(""),children:t.jsx(Kn,{className:"size-3"})})]}):null}function Pa(){const e=D(bs);return t.jsxs(v,{onClick:()=>{e(!0)},children:["Filter files...",t.jsx(be,{className:Ze,children:gs})]})}function Ba(){const e=D(Er);return t.jsx(v,{onClick:()=>{e()},children:"Clear files list"})}function _a(){const[e,s]=c.useState(!1);return t.jsxs(he,{open:e,onOpenChange:s,modal:!0,children:[t.jsx(ge,{asChild:!0,children:t.jsx(F,{variant:"ghost",children:t.jsx(_e,{className:"size-4 fill-current"})})}),t.jsxs(Q,{className:"min-w-36 text-xs",align:"start",children:[t.jsx(Pa,{}),t.jsx(G,{}),t.jsx(Ba,{})]})]})}const ys="px-2 py-1 h-10 text-xs bg-muted border-border border-b group-focus-within:bg-background/30 select-none";function Wa({className:e,...s}){return t.jsxs("div",{className:h(ys,"flex items-center gap-2",e),...s,children:[t.jsx("div",{className:"pl-2.5",children:"Files"}),t.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[t.jsx(Ea,{}),t.jsx(La,{})]}),t.jsx(_a,{})]})}const Ha="data-tree-id",Ga="data-tree-folder-trigger",Ja="folder",Va="folder-trigger";function Re(e,s){if(e)if(e instanceof Array)for(let n=0;n<e.length;n++)s(e[n]),Re(e[n],s);else e.children&&Re(e.children,s)}function Ns(e){return e.map(s=>({...s,children:s.children?Ns(s.children):void 0}))}function Z(e,s){if(s&&e){!Array.isArray(e)&&(e=[e]);for(const n of e){if(n.id==s)return n;if(n.children){const r=Z(n.children,s);if(r)return r}}}}function qa(e,s,n){const r=[];return s&&o(e,s),r;function o(a,i){if(a)if(a instanceof Array)for(let l=0;l<a.length;l++){if(r.push(a[l].id),o(a[l],i)&&!n)return!0;n||r.pop()}else{if(!n&&a.id==i)return!0;if(a.children)return o(a.children,i)}}}function Ka(e,s,n){var i,l,u;if(!["ArrowDown","ArrowUp","End","Home","Enter"].includes(s.key))return;const o=[...e.querySelectorAll(`[${Ha}]`)].map(f=>({id:f.dataset.treeId,el:f}));if(!o.length)return;if(s.preventDefault(),s.stopPropagation(),!n)return o[0].id;const a=o.findIndex(f=>f.id==n);if(a!==-1)switch(s.key){case"ArrowDown":case"ArrowUp":{const f=s.key==="ArrowDown"?a+1:a-1;if(f>=0&&f<o.length)return o[f].id;break}case"Enter":{((i=o[a])==null?void 0:i.el.dataset.state)!==void 0&&((u=(l=o[a])==null?void 0:l.el.querySelector(`[${Ga}]`))==null||u.click());break}case"End":return o[o.length-1].id;case"Home":return o[0].id}}const Za="px-2 py-1 before:absolute before:left-0 before:w-full before:h-[1.75rem] before:bg-muted/80 before:opacity-0 hover:before:opacity-100 before:-z-10 ",Xa="text-accent-foreground dark:before:border-0 before:bg-accent before:opacity-100 before:border-l-2 before:border-l-accent-foreground/50 ",Ya="shrink-0 mr-2 size-4 text-accent-foreground/50",Qa="px-2 py-1 _relative before:absolute before:left-0 before:right-1 before:w-full before:h-[1.75rem] before:bg-muted/80 before:opacity-0 hover:before:opacity-100 before:-z-10 cursor-pointer flex items-center ",Ua="text-accent-foreground dark:before:border-0 before:bg-accent before:opacity-100 before:border-l-2 before:border-l-accent-foreground/50 ",ei="shrink-0 mr-2 size-4 text-accent-foreground/50",vs=c.forwardRef(({data:e,initialSelectedItemId:s,onSelectChange:n,expandAll:r,IconTextRender:o,IconForFolder:a,IconForItem:i,arrowFirst:l,hideFolderIcon:u,className:f,...b},p)=>{const[x]=c.useState(()=>O({selectedId:void 0})),$=o||ti,y=c.useMemo(()=>{const w=qa(e,s,r),C=Z(e,x.selectedId);C&&(C.state.selected=!1);const B=Z(e,w[w.length-1]);return B&&(B.state.selected=!0,x.selectedId=B.id),w},[e,s,r]),j=c.useCallback((w,C)=>{if(w.stopPropagation(),x.selectedId){const B=Z(e,x.selectedId);B&&(B.state.selected=!1)}C?(C.state.selected=!C.state.selected,x.selectedId=C.id):x.selectedId=void 0,n==null||n(C)},[e,x,n]),I=c.useRef(null),{ref:M,width:R,height:A}=mt();return t.jsx("div",{ref:w=>{M(w),I.current=w},className:f,tabIndex:0,onKeyDown:w=>{const C=Ka(I.current,w,x.selectedId);C&&j(w,Z(e,C))},children:t.jsx(U,{className:"tree-scroll",style:{width:R,height:A},onClick:w=>j(w,void 0),children:t.jsx("div",{className:"relative z-0 px-2 py-1",children:t.jsx(Xe,{ref:p,data:e,handleSelectChange:j,expandedItemIds:y,IconTextRender:$,IconForFolder:a,IconForItem:i,arrowFirst:l,hideFolderIcon:u,...b})})})})});vs.displayName="Tree.Root";const Xe=c.forwardRef(({className:e,data:s,handleSelectChange:n,expandedItemIds:r,IconTextRender:o,IconForFolder:a,IconForItem:i,arrowFirst:l,hideFolderIcon:u,...f},b)=>t.jsx("div",{ref:b,role:"tree",className:e,...f,children:t.jsx("ul",{children:s instanceof Array?s.map(p=>t.jsx("li",{children:p.children?t.jsx(kn,{type:"multiple",defaultValue:r,children:t.jsxs($t,{value:`${p.id}`,"data-tree-id":p.id,"data-tree-folder":Ja,children:[t.jsx(Cs,{item:p,IconTextRender:o,Icon:a,arrowFirst:l,hideFolderIcon:u,onClick:x=>n(x,p)}),t.jsx(ks,{className:"pl-6",children:t.jsx(Xe,{data:p.children,handleSelectChange:n,expandedItemIds:r,IconTextRender:o,IconForFolder:a,IconForItem:i,arrowFirst:l,hideFolderIcon:u})})]})}):t.jsx(Ae,{item:p,IconTextRender:o,onClick:x=>n(x,p),Icon:i})},p.id)):t.jsx("li",{children:t.jsx(Ae,{item:s,IconTextRender:o,onClick:p=>n(p,s),Icon:i})})})}));Xe.displayName="Tree.TreeItem";const Ae=c.forwardRef(({className:e,item:s,IconTextRender:n,Icon:r,...o},a)=>{const{selected:i}=V(s.state);return t.jsx("div",{ref:a,className:d(Qa,e,i&&Ua),"data-tree-id":s.id,...o,children:t.jsx(n,{item:s,Icon:r,iconClasses:ei,hideFolderIcon:!1})})});Ae.displayName="Tree.Leaf";const Cs=c.forwardRef(({className:e,item:s,IconTextRender:n,Icon:r,arrowFirst:o=!0,hideFolderIcon:a,...i},l)=>{const{selected:u}=V(s.state);return t.jsx($s,{className:d(Za,u&&Xa),"data-tree-folder-trigger":Va,arrowFirst:o,ref:l,...i,children:t.jsx(n,{item:s,Icon:r,hideFolderIcon:a,iconClasses:Ya})})});Cs.displayName="Tree.Folder";const $s=c.forwardRef(({className:e,children:s,arrowFirst:n,...r},o)=>{const a=t.jsx(Hs,{className:h("shrink-0 ml-auto h-4 w-4 text-accent-foreground/50 transition-transform duration-200",n&&"mr-2")});return t.jsx(kt,{children:t.jsx(ze,{asChild:!0,className:d("flex-1 w-full transition-all outline-none cursor-pointer flex items-center",n?"first:[&[data-state=open]>svg]:rotate-90":"last:[&[data-state=open]>svg]:rotate-90",e),ref:o,...r,children:t.jsxs("div",{children:[n&&t.jsx(t.Fragment,{children:a}),s,!n&&t.jsx(t.Fragment,{children:a})]})})})});$s.displayName="Tree.Folder.Trigger";const ks=c.forwardRef(({className:e,children:s,...n},r)=>t.jsx(Ee,{ref:r,className:d("data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down transition-all overflow-hidden",e),...n,children:t.jsx("div",{children:s})}));ks.displayName="Tree.Folder.Content";function ti({item:e,Icon:s,iconClasses:n,hideFolderIcon:r}){const o=e.icon||!r&&s;return t.jsxs(t.Fragment,{children:[o&&t.jsx(o,{className:n,"aria-hidden":"true"}),t.jsx("span",{className:"flex-grow truncate",children:e.name})]})}function si({trigger:e,body:s}){return t.jsx(ra,{children:t.jsxs(oa,{children:[t.jsx(aa,{asChild:!0,children:t.jsx("div",{children:e})}),t.jsx(ia,{children:t.jsxs(hs,{className:"p-0 max-w-72 text-xs border-border border shadow",children:[s,t.jsx(Sn,{className:"fill-primary"})]})})]})})}function ni({bailOut:e}){return t.jsx(t.Fragment,{children:e.map((s,n)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(W,{className:"flex-none self-start size-5 fill-red-500 stroke-muted stroke-[1]"}),s]},n))})}function ri({fileUs:e,fileIndex:s}){var r,o,a,i;const n=[(o=(r=e.meta)==null?void 0:r[0])==null?void 0:o.disp.bailOut,(i=(a=e.meta)==null?void 0:a[1])==null?void 0:i.disp.bailOut];return t.jsxs("div",{className:"px-3 py-1.5",children:[t.jsxs("div",{className:"mb-2 pt-1 pb-1 border-border border-b border-dotted",children:["There are problems in the file with index ",s,", check why:"]}),n.map((l,u)=>t.jsx(c.Fragment,{children:l&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-bold",children:`${u===0?"Login":"Password change"} form:`}),t.jsx("div",{className:"py-1",children:t.jsx(ni,{bailOut:l})})]})},`bailout${u}`))]})}function oi({IconToRender:e,name:s,fileUs:n,iconClasses:r}){const o=Pe(n),a=n.idx+1,i=t.jsx(t.Fragment,{children:e&&t.jsx(e,{className:r,"aria-hidden":"true"})});return o?t.jsx(si,{trigger:i,body:t.jsx(ri,{fileUs:n,fileIndex:a})}):i}function ai({idx:e}){return t.jsx("div",{className:"pr-1 pb-0.5 size-3 w-auto min-w-3 text-[.575rem] text-muted-foreground flex items-center justify-center select-none cursor-default",title:"File index in the list of all loaded files",children:e})}function ii({item:e,Icon:s,iconClasses:n,hideFolderIcon:r}){const o=e,a=P(o.fcnt),i=a.idx+1,l=e.icon||!r&&s;n=h("mr-1.5",n);const u=V(N).ui.fileListItems.showIndex;return t.jsxs(t.Fragment,{children:[u&&t.jsx(ai,{idx:i}),t.jsx(oi,{fileUs:a,IconToRender:l,name:e.name,iconClasses:n}),t.jsx("span",{className:"flex-grow truncate",children:e.name})]})}function li(e){const s=Ns(e);return Re(s,n=>{n.state=O({selected:!1})}),s}function ci(){const e=P(He),s=D(me),n=c.useMemo(()=>{const r=li(e);return t.jsx(vs,{data:r,className:"w-full h-full outline-none",IconTextRender:ii,IconForFolder:Gs,IconForItem:Js,arrowFirst:!0,hideFolderIcon:!1,onSelectChange:o=>{var a;return s((a=o)==null?void 0:a.fcnt)}})},[e]);return t.jsx("div",{className:"relative w-full h-full",children:t.jsx("div",{className:"absolute inset-px bottom-0.5 text-xs select-none",children:n})})}const di="focus-within:ring-border focus-within:ring-offset-background focus-within:ring-1 focus-within:ring-offset-1 focus-within:outline-none",Ss="p-1 h-full text-xs",Ds=`h-full ring-border/50 ring-1 overflow-hidden ${di} focus-within:ring-offset-0 group`,Is="h-full bg-background flex flex-col";function ui(){return t.jsx("div",{className:`${Ss} pr-0`,children:t.jsx("div",{className:`${Ds} rounded-l`,children:t.jsxs("div",{className:Is,children:[t.jsx(Wa,{}),t.jsx(ci,{})]})})})}function fi(){return t.jsx(v,{...js,children:"More..."})}function mi(){const[e,s]=c.useState(!1);return t.jsxs(he,{open:e,onOpenChange:s,modal:!0,children:[t.jsx(ge,{asChild:!0,children:t.jsx(F,{variant:"ghost",children:t.jsx(_e,{className:"size-4 fill-current"})})}),t.jsx(Q,{className:"min-w-36 text-xs",align:"start",children:t.jsx(fi,{})})]})}function pi({className:e,...s}){return t.jsxs("div",{className:h(ys,"flex items-center justify-between",e),...s,children:[t.jsx("div",{className:"",children:"File"}),t.jsx(mi,{})]})}pt.registerLanguage("xml",Vs);function xi({children:e,...s}){return t.jsx(pt,{language:"xml",useInlineStyles:!1,...s,children:e})}function hi({text:e,className:s,...n}){const{ref:r,width:o,height:a}=mt();return t.jsx(t.Fragment,{children:t.jsx("div",{className:h("h-full w-full",s),ref:r,...n,children:t.jsx(U,{style:{width:o,height:a},horizontal:!0,children:t.jsx(xi,{className:"p-1 dark:opacity-60",children:e})})})})}function gi(){const e=P(fr),s=e?e.raw?void 0:"Not supported format":"No file selected";return s?t.jsx("div",{className:"h-full text-muted-foreground flex items-center justify-center",children:s}):t.jsx(hi,{text:(e==null?void 0:e.raw)||""})}function bi(){return t.jsx("div",{className:`${Ss} pl-0`,children:t.jsx("div",{className:`${Ds} rounded-r`,children:t.jsxs("div",{className:Is,children:[t.jsx(pi,{}),t.jsx("div",{className:"relative w-full h-full",children:t.jsx("div",{className:"absolute inset-px bottom-0.5 text-xs",children:t.jsx(gi,{})})})]})})})}const ji={getItem(e){return N.ui.resisablesState.positions[e]||""},setItem(e,s){N.ui.resisablesState.positions[e]=s}};function wi(){const e=c.useRef(null),s=c.useRef(null);return t.jsxs($o,{direction:"horizontal",className:"w-full _max-w-md",autoSaveId:"main",storage:ji,children:[t.jsx(lt,{ref:e,collapsible:!0,defaultSize:25,children:t.jsx(ui,{})}),t.jsx(So,{className:"my-[3px] pb-2 items-end z-50",tabIndex:-1,children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{className:ve,onClick:()=>ct(e,s,!0),children:t.jsx(tt,{})}),t.jsx(Mo,{className:Io}),t.jsx("button",{className:ve,onClick:()=>ct(e,s,!1),children:t.jsx(tt,{className:`${ve} rotate-180`})})]})}),t.jsx(lt,{ref:s,collapsible:!0,children:t.jsx(bi,{})})]})}function yi(){return t.jsx("div",{className:"mt-2 bg-muted overflow-hidden",children:t.jsx(wi,{})})}const Ni="_rocketAnimation_2r4me_1",vi={rocketAnimation:Ni};function Ci(){const{msg:e}=V(Ce),s=qs({opacity:e?1:0,config:{duration:1250}});return t.jsxs(Ks.div,{style:s,className:"pl-2 text-green-400 flex items-center gap-1",children:[t.jsx(Jn,{className:"ml-2 size-4",style:{animation:e?`${vi.rocketAnimation} 1.2s infinite`:""}}),t.jsx("div",{className:"text-xs",style:{transition:"opacity 1.2s 1s"},children:e})]})}function $i(){return t.jsx("div",{className:"p-1.5 bg-muted",children:t.jsx(Ci,{})})}function ki(){return t.jsxs(t.Fragment,{children:[t.jsx(nr,{}),t.jsxs("div",{className:"h-screen text-sm text-foreground bg-background grid grid-rows-[auto,1fr,auto] overflow-hidden",children:[t.jsx(Ta,{}),t.jsx(yi,{}),t.jsx($i,{})]}),t.jsx(ga,{}),t.jsx(Ca,{}),t.jsx(da,{doSetFilesFromDropAtom:Tr}),t.jsx(yr,{}),t.jsx(Nr,{}),t.jsx(Zo,{})]})}Zs.createRoot(document.getElementById("root")).render(t.jsx(Xs.StrictMode,{children:t.jsx(ki,{})}));
